<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>D8 Using Tags</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,2,fn-in --> 
<meta name="src" content="UsersGuide.tex"> 
<meta name="date" content="2011-10-25 15:07:00"> 
<link rel="stylesheet" type="text/css" href="UsersGuide.css"> 
</head><body 
>
<!--l. 2082--><div class="crosslinks"><p class="noindent">[<a 
href="UsersGuidech17.html" >prev</a>] [<a 
href="UsersGuidech17.html#tailUsersGuidech17.html" >prev-tail</a>] [<a 
href="#tailUsersGuidech18.html">tail</a>] [<a 
href="UsersGuidepa4.html#UsersGuidech18.html" >up</a>] </p></div>
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;D8</span><br /><a 
 id="x23-220000D8"></a>Using Tags</h2>
<!--l. 2084--><p class="noindent" >Finding your way around in the Cactus structure can be pretty difficult to handle. To make life easier there is
support for <span 
class="cmti-10">tags</span>, which lets you browse the code easily from within Emacs/XEmacs or <span 
class="cmtt-10">vi</span>. A tags database can
be generated with <span 
class="cmtt-10">gmake</span>:
<h3 class="sectionHead"><span class="titlemark">D8.1   </span> <a 
 id="x23-221000D8.1"></a>Tags with Emacs</h3>
<!--l. 2091--><p class="noindent" >The command <span 
class="cmtt-10">gmake TAGS </span>will create a database for a routine reference table to be used within Emacs. This
database can be accessed within Emacs if you add either of the following lines to your <span 
class="cmtt-10">.emacs</span>
file:<br 
class="newline" /><span 
class="cmtt-10">(setq tags-file-name "CACTUS</span><span 
class="cmtt-10">_HOME/TAGS") </span>XOR <br 
class="newline" /><span 
class="cmtt-10">(setq tag-table-alist &#8217;(("CACTUS</span><span 
class="cmtt-10">_HOME" . "CACTUS</span><span 
class="cmtt-10">_HOME/TAGS")))</span><br 
class="newline" />where <span 
class="cmtt-10">CACTUS</span><span 
class="cmtt-10">_HOME </span>is your Cactus directory.<br 
class="newline" />
<!--l. 2098--><p class="noindent" >You can now easily navigate your Cactus flesh and Toolkits by searching for functions or &#8220;tags&#8221;:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x23-221002x1"> <span 
class="cmbx-10">Alt. </span>will find a tag
     </li>
     <li 
  class="enumerate" id="x23-221004x2"> <span 
class="cmbx-10">Alt, </span>will find the next matching tag
     </li>
     <li 
  class="enumerate" id="x23-221006x3"> <span 
class="cmbx-10">Alt* </span>will go back to the last matched tag</li></ol>
<!--l. 2105--><p class="noindent" >If you add the following lines to your <span 
class="cmtt-10">.emacs </span>file, the files found with tags will opened in <span 
class="cmti-10">read-only</span>
mode:
                                                                                       
                                                                                       
<div class="verbatim" id="verbatim-129">
(defun&#x00A0;find-tag-readonly&#x00A0;(&amp;rest&#x00A0;a)
&#x00A0;<br />&#x00A0;&#x00A0;(interactive)
&#x00A0;<br />&#x00A0;&#x00A0;(call-interactively&#x00A0;&#8216;find-tag&#x00A0;a)
&#x00A0;<br />&#x00A0;&#x00A0;(if&#x00A0;(eq&#x00A0;nil&#x00A0;buffer-read-only)&#x00A0;(setq&#x00A0;buffer-read-only&#x00A0;t))&#x00A0;&#x00A0;)
&#x00A0;<br />
&#x00A0;<br />(defun&#x00A0;find-tag-readonly-next&#x00A0;(&amp;rest&#x00A0;a)
&#x00A0;<br />&#x00A0;&#x00A0;(interactive)
&#x00A0;<br />&#x00A0;&#x00A0;(call-interactively&#x00A0;&#8216;tags-loop-continue&#x00A0;a)
&#x00A0;<br />&#x00A0;&#x00A0;(if&#x00A0;(eq&#x00A0;nil&#x00A0;buffer-read-only)&#x00A0;(setq&#x00A0;buffer-read-only&#x00A0;t))&#x00A0;&#x00A0;)
&#x00A0;<br />
&#x00A0;<br />(global-set-key&#x00A0;[(control&#x00A0;meta&#x00A0;\.)]&#x00A0;&#8217;find-tag-readonly)
&#x00A0;<br />(global-set-key&#x00A0;[(control&#x00A0;meta&#x00A0;\,)]&#x00A0;&#8217;find-tag-readonly-next)
</div>
<!--l. 2120--><p class="nopar" > The key strokes to use when you want to browse in read-only mode are:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x23-221008x1"><span 
class="cmbx-10">CTRL Alt. </span>will find a tag and open the file in read-only mode
     </li>
     <li 
  class="enumerate" id="x23-221010x2"><span 
class="cmbx-10">CTRL Alt, </span>will find the next matching tag in read-only mode</li></ol>
<!--l. 2127--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">D8.2   </span> <a 
 id="x23-222000D8.2"></a>Tags with <span 
class="cmtt-10">vi</span></h3>
<!--l. 2129--><p class="noindent" >The commands available are highly dependent upon the version of <span 
class="cmtt-10">vi</span>, but the following is a selection of
commands which may work.
<!--l. 2133--><p class="noindent" >
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x23-222002x1"><span 
class="cmbx-10">vi -t tag </span>Start <span 
class="cmtt-10">vi </span>and position the cursor at the file and line where &#8216;tag&#8217; is defined.
     </li>
     <li 
  class="enumerate" id="x23-222004x2"><span 
class="cmbx-10">Control-] </span>Find the tag under the cursor.
     </li>
     <li 
  class="enumerate" id="x23-222006x3"><span 
class="cmbx-10">:ta tag </span>Find a tag.
     </li>
     <li 
  class="enumerate" id="x23-222008x4"><span 
class="cmbx-10">:tnext </span>Find the next matching tag.
     </li>
     <li 
  class="enumerate" id="x23-222010x5"><span 
class="cmbx-10">:pop </span>Return to previous location before jump to tag.
                                                                                       
                                                                                       
     </li>
     <li 
  class="enumerate" id="x23-222012x6"><span 
class="cmbx-10">Control-T </span>Return to previous location before jump to tag (not widely implemented).
     </li></ol>
<!--l. 2160--><p class="noindent" ><span 
class="cmti-10">Note: Currently some of the </span><span 
class="cmitt-10">CCTK</span><span 
class="cmitt-10">_FILEVERSION() </span><span 
class="cmti-10">macros at the top of every source file don&#8217;t have a trailing</span>
<span 
class="cmti-10">semicolon, which confuses the </span><span 
class="cmitt-10">etags </span><span 
class="cmti-10">and </span><span 
class="cmitt-10">ctags </span><span 
class="cmti-10">programs, so tags does not find the first subroutine in any file</span>
<span 
class="cmti-10">with this problem.</span>
                                                                                       
                                                                                       
                                                                                       
                                                                                       
<!--l. 97--><div class="crosslinks"><p class="noindent">[<a 
href="UsersGuidech17.html" >prev</a>] [<a 
href="UsersGuidech17.html#tailUsersGuidech17.html" >prev-tail</a>] [<a 
href="UsersGuidech18.html" >front</a>] [<a 
href="UsersGuidepa4.html#UsersGuidech18.html" >up</a>] </p></div>
<!--l. 97--><p class="noindent" ><a 
 id="tailUsersGuidech18.html"></a> 
</body></html> 
